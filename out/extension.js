"use strict";var m=Object.create;var r=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var E=(t,e)=>{for(var n in e)r(t,n,{get:e[n],enumerable:!0})},l=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of p(e))!C.call(t,i)&&i!==n&&r(t,i,{get:()=>e[i],enumerable:!(o=v(e,i))||o.enumerable});return t};var u=(t,e,n)=>(n=t!=null?m(y(t)):{},l(e||!t||!t.__esModule?r(n,"default",{value:t,enumerable:!0}):n,t)),U=t=>l(r({},"__esModule",{value:!0}),t);var T={};E(T,{activate:()=>x,deactivate:()=>S});module.exports=U(T);var s=u(require("vscode")),f=u(require("path")),w="subframe7536.custom-ui-style",c="custom-ui-style.external.imports",d="tyrianNight.islandUiConsent";function x(t){try{I(t)}catch(e){let n=e instanceof Error?e.message:String(e);s.window.showErrorMessage(`Tyrian Night: activation failed \u2014 ${n}`)}}function I(t){if(!s.extensions.getExtension(w))return;let n=t.globalState.get(d);if(n!==!1){if(n===void 0){s.window.showInformationMessage('Tyrian Night: Enable "Island" UI layout? (Requires Custom UI Style)',"Yes","No").then(o=>{o==="Yes"?(t.globalState.update(d,!0),g(t)):o==="No"&&t.globalState.update(d,!1)});return}g(t)}}function g(t){let e=f.join(t.extensionPath,"themes","tyrian-night.css"),n=s.Uri.file(e).toString(),o=s.workspace.getConfiguration(),i=o.get(c)||[];if(i.some(a=>a.includes(t.extensionPath)&&a.includes("tyrian-night.css")))return;let h=i.filter(a=>!a.includes("tyrian-night.css"));o.update(c,[...h,n],s.ConfigurationTarget.Global).then(()=>s.window.showInformationMessage("Tyrian Night: Island UI layout enabled. Restart VS Code to apply.","Restart")).then(a=>{a==="Restart"&&s.commands.executeCommand("workbench.action.quit")})}function S(){try{let t=s.workspace.getConfiguration(),e=t.get(c)||[],n=e.filter(o=>!o.includes("tyrian-night.css"));n.length!==e.length&&t.update(c,n,s.ConfigurationTarget.Global)}catch{}}0&&(module.exports={activate,deactivate});
